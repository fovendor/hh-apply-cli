# hhcli

Консольная интерактивная утилита для удобного поиска вакансий и откликов на hh.ru. Программа использует [hh-applicant-tool](https://github.com/s3rgeym/hh-applicant-tool) в качестве бэкенда для взаимодействия с API.

![gif of hh-cli](img/review.gif "A short demo CLI TUI interface").

## Ключевые возможности

* **Два режима поиска:** Автоматический (на основе рекомендаций hh.ru для вашего резюме) и ручной (гибкий поиск по ключевым словам, городу, формату работы и другим критериям).
* **Интерактивный интерфейс:** Удобный TUI-интерфейс на базе `fzf` для просмотра, фильтрации и выбора вакансий.
* **Предпросмотр без браузера:** Встроенный просмотр полного описания вакансии, включая требуемые навыки и контакты.
* **Множественная отправка откликов:** Выберите десятки вакансий и откликнитесь на все одной командой.
* **Умная защита от дублей:** Скрипт проверяет полную историю ваших откликов и позволяет (при желании) не отправлять отклик в компанию, куда уже откликались ранее.
* **Локальные отчеты:** Все ваши действия по откликам сохраняются в локальные CSV-файлы для последующего анализа.
* **Темы оформления:** Настройте оформление утилиты под ваши предпочтения через переменные в конфиге.

## Установка и обновление

Установка производится одной командой в терминале. Инсталлятор автоматически проверит зависимости, установит нужные компоненты, создаст файл конфигурации и нужные для работы программы системные каталоги.

```bash
bash <(curl -sSL -H "Cache-Control: no-cache" https://raw.githubusercontent.com/fovendor/hhcli/master/install.sh) install
```

## Удаление

Для полного удаления программы, ее конфигурационных файлов, кэша и бэкенда выполните команду:

```bash
bash <(curl -sSL https://raw.githubusercontent.com/fovendor/hhcli/master/install.sh) uninstall
```

## Первый запуск и настройка

После установки необходимо выполнить три простых шага:

#### 1. Авторизация

Запустите команду аутентификации. Она откроет браузер для входа в ваш аккаунт на hh.ru.

```bash
hhcli --auth
```

#### 2. Настройка поиска

При установке создаётся файл конфигурации. Откройте его в текстовом редакторе и настройте параметры ручного поиска (ключевые слова, исключения, проф. роли и т.д.).

```bash
nano ~/.config/hhcli/config.sh
```

#### 3. Запуск

После настройки конфига вы готовы к поиску. Запустите главный скрипт и следуйте интерактивным подсказкам:

```bash
hhcli
```

## Использование

Вот основные команды для работы с `hhcli`:

| Команда | Описание |
| :--- | :--- |
| `hhcli -h` | Помощь по основным командам. |
| `hhcli -p` | Показывает справочник профессиональных ролей (чтобы выйти из списка ролей нажмите `q`) |
| `hhcli` | Запускает основной интерактивный режим поиска. |
| `hhcli --auth` | Выполняет аутентификацию или обновляет токен доступа. |
| `hhcli --list-resumes` | Показывает список ваших резюме и их ID. |
| `hhcli --find-city` | Помогает найти ID города для файла конфигурации. |
| `hhcli --clear-cache` | Удаляет локальный кэш (города, словари и т.д.). |
| `hhcli proxy [cmd]`	| Передает команду [cmd] напрямую бэкенду. Чтобы узнать подробнее выполните: `hh-applicant-tool -h`. |

## Обработка ошибок API и ограничений платформы

Скрипт умеет обрабатывать криворукость разработчиков некоторые странности в ответах API hh.ru:

- Пустое описание: Выводится заглушка [ Описание ... недоступно через API ].
- "Битые" JSON: Скрипт удалит поврежденный файл из кэша и предложит просмотреть вакансию еще раз.
- Вакансии с вопросами: Отклики на вакансии, требующие ответов на вопросы, будут автоматически пропущены, но появятся в итоговом CSV-отчете, чтобы вы могли откликнуться на них вручную.

## Оговорка

Вся работа с API делегирована утилите hh-applicant-tool. Если в ней произойдут критические изменения или она перестанет работать из-за изменений на стороне hh.ru, этот скрипт также перестанет работать.

## Лицензия

[MIT](https://choosealicense.com/licenses/mit/)

## Благодарности

- Огромная благодарность **Сергею ([s3rgeym](https://github.com/s3rgeym))** за создание и поддержку [hh-applicant-tool](https://github.com/s3rgeym/hh-applicant-tool).
